
<!doctype html>
<html>
<head>
  <title>Dependencies</title>

  <style type="text/css">
    html, body {
      font: 10pt arial;
      background-color: #222222;
    }
    h1{
      color: #ffffff;
    }
    #mynetwork {
			height: 100%;
	    width: 100%;
	    left: 0;
	    top: 0;
	    overflow: hidden;
	    position: fixed;
      background-color: #222222;
    }
  </style>

	<script type="text/javascript" src="node_modules/vis/dist/vis.js"></script>
  <link href="node_modules/vis/dist/vis-network.min.css" rel="stylesheet" type="text/css" />

  <script type="text/javascript">
    var nodes    = null;
    var edges    = null;
    var network  = null;
    var jsonData = null;

    function loadJSON(callback) {
      var xobj = new XMLHttpRequest();
          xobj.overrideMimeType("application/json");
          xobj.open('GET', 'http://localhost:8000/ressources/data.json', true);
          xobj.onreadystatechange = function () {
            if (xobj.readyState == 4 && xobj.status == "200") {
              callback(xobj.response);
            }
          };
      xobj.send(null);
    }

    function display() {
      loadJSON(function(response) {
        jsonData = JSON.parse(response);
        draw(jsonData.nodes, jsonData.edges);
      });
    }

    function draw(nodes, edges) {
      // create people.
      // value corresponds with the age of the person

			console.log(nodes);
      console.log(edges);

      // Instantiate our network object.
      var container = document.getElementById('mynetwork');
      var data = {
        nodes: nodes,
        edges: edges
      };
      var options = {
        nodes: {
          shape: 'dot',
          font: {
            color: '#ffffff'
          },
          scaling:{
            label: {
              min:8,
              max:30
            }
          }
        }
      };
      network = new vis.Network(container, data, options);
    }
  </script>
  <script src="../../googleAnalytics.js"></script>
</head>
<body onload="display()">
<h1>
  Dependencies graph for the project ...
</h1>
<div id="mynetwork"></div>
</body>
</html>
